<div class="container p-3">
  <div class="row">
    <%= render 'admin/shared/header.html.erb' %>
    <div class="col-md-12">

      <h3>配送先登録/一覧</h3>
        <%= form_with model: @address, url: addresses_path do |f| %>
          <div>
            <%= f.label :post_code, "郵便番号(ハイフンなし)" %>
            <%= f.text_field :post_code, class: 'form-control', placeholder: "0000000" %>
          </div>
          <div>
            <%= f.label :address, "住所" %>
            <%= f.text_field :address, class: 'form-control',placeholder: "東京都渋谷区代々木神園町0-0" %>
          </div>
          <div>
            <%= f.label :name, "宛名" %>
            <%= f.text_field :name, class: 'form-control', placeholder: "令和道子" %>
          </div>
            <%= f.submit "新規登録", class: "submit-btn"  %>
          <% end %>


      <table class="table">
        <thead>
          <tr>
            <th>郵便番号</th>
            <th>住所</th>
            <th>宛名</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <% if @addresses.nil? %>
          <tr>
            <td>配送先が入力されていません</td>
          </tr>
        <% else %>

          <% @addresses.each do |address| %>
          <tr>
            <td><%= address.post_code %></td>
            <td><%= address.address %></td>
            <td><%= address.name %></td>
            <td>
             <%= link_to "編集する", edit_address_path(address.id), "data-turbolinks": false %>|
             <%= link_to "削除する", address_path(address), method: :delete, "data-cofirm" => "本当に削除しますか？" %>
            </td>
          </tr>
          <% end %>
        <% end %>
        </tbody>
      </table>

   </div>
   <%= render 'public/shared/footer.html.erb' %>
  </div>
</div>